{% extends "base.html" %}
{% load static %}

{% block title %}Reviews{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'reviews/reviews.css' %}">
{% endblock %}

{% block content %}

<header class="page-header">
  <h1 class="page-title">Customer Reviews</h1>
  <p class="page-subtitle">See what people are saying about our bakery favorites ğŸ°</p>
</header>

<section class="reviews-layout">

  <!-- RIGHT: Add a review -->
  <aside class="review-form">
    <h2 class="form-title">Leave a Review</h2>
    <p class="form-subtitle">Tell us what you tried and how it was!</p>
  
    <!-- Fully Fledged User Review -->
    <form method="post">
      {% csrf_token %}

      <label class="label" for="{{ form.username.id_for_label }}">Your Name</label>
      {{ form.username }}

      <label class="label" for="{{ form.product.id_for_label }}">Product</label>
      {{ form.product }}

      <label class="label" for="{{ form.rating.id_for_label }}">Rating</label>
      {{ form.rating }}

      <label class="label" for="{{ form.comment.id_for_label }}">Your Review</label>
      {{ form.comment }}

      <button class="btn" type="submit">Submit Review</button>
    </form>

    <!-- User Reviews -->
    
    {% for review in reviews %}
    <div class="user_review">
      <h3>{{ review.product.name }}</h3>
      <p>by {{ review.username }}</p>
    
      <div class="stars" aria-label="{{ review.rating }} star rating">
        {% for i in "12345" %}
        {% if forloop.counter <= review.rating %} â˜… {% else %} â˜† {% endif %} {% endfor %} </div>
    
          <p>{{ review.comment }}</p>
      </div>
      {% endfor %}


  </aside>

  <!-- LEFT: Reviews list -->
  <div class="reviews-list">

    <!-- Review Card 1 -->
    <article class="review-card">
      <div class="review-top">
        <div>
          <h3 class="review-product">Classic Apple Pie</h3>
          <p class="review-name">by Sarah M.</p>
        </div>
        <div class="stars" aria-label="5 star rating">â˜…â˜…â˜…â˜…â˜…</div>
      </div>
      <p class="review-text">
        The crust was flaky and buttery and the apple filling tasted homemade. Easily the best apple pie Iâ€™ve had in a while.
      </p>
    </article>

    <!-- Review Card 2 -->
    <article class="review-card">
      <div class="review-top">
        <div>
          <h3 class="review-product">Chocolate Fudge Brownie</h3>
          <p class="review-name">by Jason K.</p>
        </div>
        <div class="stars" aria-label="4 star rating">â˜…â˜…â˜…â˜…â˜†</div>
      </div>
      <p class="review-text">
        Super rich and soft inside. I wish it was slightly bigger, but the flavor is amazing.
      </p>
    </article>

    <!-- Review Card 3 -->
    <article class="review-card">
      <div class="review-top">
        <div>
          <h3 class="review-product">Strawberry Shortcake</h3>
          <p class="review-name">by Amina R.</p>
        </div>
        <div class="stars" aria-label="5 star rating">â˜…â˜…â˜…â˜…â˜…</div>
      </div>
      <p class="review-text">
        Light, fluffy, and not too sweet. The strawberries tasted fresh and the whipped cream was perfect.
      </p>
    </article>

    <!-- Review Card 4 -->
    <article class="review-card">
      <div class="review-top">
        <div>
          <h3 class="review-product">Pumpkin Pie</h3>
          <p class="review-name">by Daniel T.</p>
        </div>
        <div class="stars" aria-label="3 star rating">â˜…â˜…â˜…â˜†â˜†</div>
      </div>
      <p class="review-text">
        Good spice flavor, but I personally wanted it a bit sweeter. Still solid with coffee.
      </p>
    </article>

    <!-- Review Card 5 -->
    <article class="review-card">
      <div class="review-top">
        <div>
          <h3 class="review-product">Blueberry Muffin</h3>
          <p class="review-name">by Olivia P.</p>
        </div>
        <div class="stars" aria-label="4 star rating">â˜…â˜…â˜…â˜…â˜†</div>
      </div>
      <p class="review-text">
        Soft muffin with lots of blueberries. The top was nicely golden â€” would buy again.
      </p>
    </article>

    <!-- Review Card 6 -->
    <article class="review-card">
      <div class="review-top">
        <div>
          <h3 class="review-product">Cinnamon Roll</h3>
          <p class="review-name">by Mark L.</p>
        </div>
        <div class="stars" aria-label="5 star rating">â˜…â˜…â˜…â˜…â˜…</div>
      </div>
      <p class="review-text">
        Warm, gooey, and the icing was perfect. This is the kind of cinnamon roll you dream about.
      </p>
    </article>

    <!-- Review Card 7 -->
    <article class="review-card">
      <div class="review-top">
        <div>
          <h3 class="review-product">Lemon Tart</h3>
          <p class="review-name">by Priya S.</p>
        </div>
        <div class="stars" aria-label="4 star rating">â˜…â˜…â˜…â˜…â˜†</div>
      </div>
      <p class="review-text">
        Tangy and fresh with a great crust. A tiny bit more filling would make it a 5 for me.
      </p>
    </article>

    <!-- Review Card 8 -->
    <article class="review-card">
      <div class="review-top">
        <div>
          <h3 class="review-product">Pecan Pie</h3>
          <p class="review-name">by Kevin B.</p>
        </div>
        <div class="stars" aria-label="3 star rating">â˜…â˜…â˜…â˜†â˜†</div>
      </div>
      <p class="review-text">
        Great nutty flavor, but it was a little too sticky-sweet for my taste. Still enjoyable.
      </p>
    </article>

  </div>

</section>

{% endblock %}